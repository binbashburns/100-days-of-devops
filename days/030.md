# Day 030: Git hard reset

**Time**: 10 minutes

## Objective
The Nautilus application development team was working on a git repository `/usr/src/kodekloudrepos/apps` present on `Storage server` in `Stratos DC`. 
In `/usr/src/kodekloudrepos/apps` git repository, reset the git commit history so that there are only two commits in the commit history i.e `initial commit` and `add data.txt file`.
Also make sure to push your changes.

## Technologies Used
- `git`
- `ssh`

## Steps 

1. SSH into `ststor01` server, change directory to repo, check git log

    ```bash
    # SSH to storage server
    thor@jumphost ~$ ssh natasha@ststor01
    [natasha@ststor01 ~]$ 
    
    # Change into appropriate directory
    [natasha@ststor01 ~]$ cd /usr/src/kodekloudrepos/apps/

    # Check git log
    [natasha@ststor01 apps]$ sudo git log
    ...

    # commit d5b39d8b212a1ad0b7895c13e4425fa4878aa32a
    # Author: Admin <admin@kodekloud.com>
    # Date:   Sat Dec 20 20:46:33 2025 +0000

    #     add data.txt file

    # commit b7c8d272b53632b6f60f862876b5c5e485cb1a61
    # Author: Admin <admin@kodekloud.com>
    # Date:   Sat Dec 20 20:46:33 2025 +0000

    #     initial commit

    # So d5b39d8b212a1ad0b7895c13e4425fa4878aa32a is the commit we want
    ```

2. Revert to `d5b39d8b212a1ad0b7895c13e4425fa4878aa32a`, then push changes

    ```bash
    # Git reset to the appropriate commit
    [natasha@ststor01 apps]$ sudo git reset --hard d5b39d8b212a1ad0b7895c13e4425fa4878aa32a
    # HEAD is now at d5b39d8 add data.txt file
    
    # Push changes
    [natasha@ststor01 apps]$ sudo git push --force
    # Total 0 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
    # To /opt/apps.git
    # + bbbe87e...d5b39d8 master -> master (forced update)

    [natasha@ststor01 apps]$
    ```

## Key Takeaways
- Finding the right git commands can be tricky. Be sure to Google, look at StackOverflow, etc
