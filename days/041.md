# Day 041: Write a Docker File

**Time**: 4 minutes

## Objective
As per recent requirements shared by the Nautilus application development team, they need custom images created for one of their projects. Several of the initial testing requirements are already been shared with DevOps team. Therefore, create a docker file `/opt/docker/Dockerfile` (please keep `D` capital of Dockerfile) on App server 1 in Stratos DC and configure to build an image with the following requirements:

-  Use `ubuntu:24.04` as the base image.

- Install `apache2` and configure it to work on `5004` port. (do not update any other Apache configuration settings like document root etc).

## Technologies Used
- `ssh`
- `vi`
- Docker

## Steps

1. SSH into `stapp01` server

    ```bash
    thor@jumphost ~$ ssh tony@stapp01

    [tony@stapp01 ~]$
    ```

2. Modify `/opt/docker/Dockerfile`

    ```bash
    # Modify file
    
    [tony@stapp01 ~]$ sudo vi /opt/docker/Dockerfile

    # Print contents
    [tony@stapp01 ~]$ cat /opt/docker/Dockerfile

    FROM ubuntu:24.04

    RUN apt update && \
        apt install -y apache2

    RUN sed -i 's/80/5004/g' /etc/apache2/ports.conf && \
        sed -i 's/80/5004/g' /etc/apache2/sites-available/000-default.conf

    CMD ["apache2ctl", "-D", "FOREGROUND"]
    ```

## Key Takeaways
- Docker doesn't have a `--dry-run` flag like Kubernetes manifests, just Google examples of other files that have already been made and modify them to meet your needs
