# Day 019: Install and Configure Web Application

**Time**: 30 minutes

## Objective
xFusionCorp Industries is planning to host two static websites on their infra in `Stratos Datacenter`. The development of these websites is still in-progress, but we want to get the servers ready. Please perform the following steps to accomplish the task:
- Install `httpd` package and dependencies on `app server 1`.
- Apache should serve on port `5003`.
- There are two website's backups `/home/thor/beta` and `/home/thor/games` on `jump_host`. Set them up on Apache in a way that `beta` should work on the link `http://localhost:5003/beta/` and `games` should work on link `http://localhost:5003/games/` on the mentioned app server.
- Once configured you should be able to access the website using `curl` command on the respective app server, i.e `curl http://localhost:5003/beta/` and curl `http://localhost:5003/games/`

## Technologies Used
- `httpd`
- `systemd`
- `curl`
- `scp`

## Steps

1. SSH into `stapp01` server, install `httpd`, configure to run on `5003`

    ```bash
    # SSH to server
    thor@jumphost ~$ ssh tony@stapp01

    # Install httpd
    [tony@stapp01 ~]$ sudo yum install httpd -y

    # Configure httpd port
    [tony@stapp01 ~]$ sudo cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.bak
    [tony@stapp01 ~]$ sudo sed -i 's/80/5003/g' /etc/httpd/conf/httpd.conf

    # Restart httpd 
    [tony@stapp01 ~]$ sudo systemctl restart httpd
    ```

2. Set up directories as noted in step 3

    ```bash
    # In a new tab, copy files from jump_host to stapp01
    thor@jumphost ~$ scp -r /home/thor/beta tony@stapp01:/home/tony
    thor@jumphost ~$ scp -r /home/thor/games tony@stapp01:/home/tony/

    # Back on stapp01, verify transfer:
    [tony@stapp01 ~]$ ls -la
    # ...
    # drwxr-xr-x 2 tony tony 4096 Dec 10 12:25 beta
    # drwxr-xr-x 2 tony tony 4096 Dec 10 12:25 games

    # Move directories to the correct place
    [tony@stapp01 ~]$ sudo cp -r /home/tony/beta /var/www/html/
    [tony@stapp01 ~]$ sudo cp -r /home/tony/games /var/www/html
    ```

3. Verify functionality

    ```bash
    # Curl
    [tony@stapp01 ~]$ curl http://localhost:5003/beta/
    [tony@stapp01 ~]$ curl http://localhost:5003/games/
    ```


## Key Takeaways
- How to change Apache's listening port and restart the service
- How to deploy static site content and verify with curl
