# Day 007: Linux SSH Authentication

**Time**: 8 minutes

## Objective
- The system admins team of `xFusionCorp Industries` has set up some scripts on jump host that run on regular intervals and perform operations on all app servers in `Stratos Datacenter`. 
- To make these scripts work properly we need to make sure the `thor` user on `jump host` has password-less SSH access to all app servers through their respective sudo users (i.e `tony` for `App Server 1`). 
- Based on the requirements, perform the following:
- Set up a password-less authentication from user thor on jump host to all app servers through their respective sudo users.

## Technologies Used
- `ssh-keygen`
- `ssh-copy-id`

## Steps

1. Generate an SSH key for `thor`

    ```bash
    thor@jumphost ~$ ssh-keygen
    Generating public/private rsa key pair.
    Enter file in which to save the key (/home/thor/.ssh/id_rsa): 
    Enter passphrase (empty for no passphrase): 
    Enter same passphrase again: 
    Your identification has been saved in /home/thor/.ssh/id_rsa
    Your public key has been saved in /home/thor/.ssh/id_rsa.pub
    The key fingerprint is:
    SHA256:zchYzI4e4+rOEZay5lkQoWwghjXQO6+HLgC6HoZj1jo thor@jumphost.stratos.xfusioncorp.com
    The key's randomart image is:
    +---[RSA 3072]----+
    |==+              |
    |*..o   o         |
    |.o..    +        |
    |o o. . * +       |
    |o oo+ = S o      |
    |+ .=.+ o         |
    |+*o+o o          |
    |*E=+.o           |
    |.==+=            |
    +----[SHA256]-----+
    ```

2. Use `ssh-copy-id` to copy the key from `jumphost` to `stapp01`

    ```bash
    thor@jumphost ~$ ssh-copy-id tony@stapp01

    /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/thor/.ssh/id_rsa.pub"
    ...
    This key is not known by any other names
    Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
    ...
    tony@stapp01s password: 

    Number of key(s) added: 1

    Now try logging into the machine, with:   ssh tony@stapp01
    and check to make sure that only the key(s) you wanted were added.

    # Try logging in

    thor@jumphost ~$ ssh tony@stapp01
    [tony@stapp01 ~]$
    ```

3. Repeat Step 2 on `stapp02` and `stapp03`

## Key Takeaways
- Lessons aren't necessarily easy -> medium -> hard, in a steady progression. Some days you go from easy -> hard -> back to easy.
- Is there even an "easy" vs. "hard"? Or does it all just come down to getting repititions?
